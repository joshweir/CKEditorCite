!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){!function(t){"use strict";CKEDITOR.dialog.add("intextCiteDialog",function(e){return{editor_name:!1,title:"Edit In-Text Citation",minWidth:400,minHeight:200,footnotes_el:!1,contents:[{id:"tabbasic",label:"Basic Settings",elements:[{type:"textarea",id:"new_footnote",class:"edit_footnote_text",label:"In-Text Citation Marker:",inputStyle:"height: 100px"},{type:"html",html:'<p style="color: grey; font-style: italic;">eg: Laemmli 1970</p>'},{type:"text",id:"footnote_preview",name:"footnote_preview",label:"Preview:",setup:function(n){var i=this.getDialog(),o=t("#"+this.domId);i.footnotes_el=o,e=i.getParentEditor(),o.children("div").css("display","none"),o.append('<style>.validation-error{color: #B14644; padding: 0 0 10px;} .intext-citation-preview a{color: blue; text-decoration: underline; pointer-events: none; cursor: default;}</style><div style="padding: 10px 0 10px 10px; border: solid 1px #B6B6B6;" class="intext-citation-preview"></div>'),t(".intext-citation-validation").length||t('<div class="intext-citation-validation validation-error"></div>').insertBefore(o)}}]}],onShow:function(){this.setupContent();var n=this;t(".intext-citation-validation").html(""),jQuery(".cke_dialog").css({position:"absolute",top:"2%"});var i=n.getParentEditor().id;CKEDITOR.replaceAll(function(o,r){if(!o.className.match(/edit_footnote_text/))return!1;n.editor_name=o.id;for(var a=o;(a=a.parentElement)&&!a.classList.contains(i););return!!a&&(r.toolbar_Basic=[["Bold","Italic"]],r.toolbar="Basic",r.allowedContent="em strong; a[!href]",r.enterMode=CKEDITOR.ENTER_BR,r.autoParagraph=!1,r.height=40,r.resize_enabled=!1,r.autoGrow_minHeight=40,r.removePlugins="cite",r.on={instanceReady:function(n){t(this.editable().$).css("margin","10px");var i=t(e.widgets.focused.element.$).attr("data-inline-citation");i=i?i.replace(/\[!hquot!\]/g,"&quot;").replace(/\[!quot!\]/g,'"'):(i=t(e.widgets.focused.element.$).text()).replace(/\[!hquot!\]/g,"&quot;").replace(/\[!quot!\]/g,'"'),this.insertHtml(i),t(".intext-citation-preview").html(t(this.editable().$).html().replace(/\[!hquot!\]/g,"&quot;").replace(/\[!quot!\]/g,'"'))},change:function(e){t(".intext-citation-preview").html(t(this.editable().$).html().replace(/\[!hquot!\]/g,"&quot;").replace(/\[!quot!\]/g,'"'))}},!0)})},onOk:function(){var n=CKEDITOR.instances[this.editor_name],i=CKEDITOR.instances[this.editor_name].getData();n.destroy(),t(e.widgets.focused.element.$).find("a").html(i),t(e.widgets.focused.element.$).attr("data-inline-citation",i)},onCancel:function(){CKEDITOR.instances[this.editor_name].destroy()}}})}(jQuery)}]);
//# sourceMappingURL=intext_cite.js.map