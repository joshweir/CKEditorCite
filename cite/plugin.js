!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n,e){"use strict";function r(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function i(t){return function n(e){return 0===arguments.length||r(e)?n:t.apply(this,arguments)}}e.r(n);var u=i(function(t){return function(){return t}}),o=u(!1),a=u(!0),c={"@@functional/placeholder":!0};function f(t){return function n(e,u){switch(arguments.length){case 0:return n;case 1:return r(e)?n:i(function(n){return t(e,n)});default:return r(e)&&r(u)?n:r(e)?i(function(n){return t(n,u)}):r(u)?i(function(n){return t(e,n)}):t(e,u)}}}var s=f(function(t,n){return Number(t)+Number(n)});function l(t,n){var e;t=t||[],n=n||[];var r=t.length,i=n.length,u=[];for(e=0;e<r;)u[u.length]=t[e],e+=1;for(e=0;e<i;)u[u.length]=n[e],e+=1;return u}function d(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,r){return n.apply(this,arguments)};case 4:return function(t,e,r,i){return n.apply(this,arguments)};case 5:return function(t,e,r,i,u){return n.apply(this,arguments)};case 6:return function(t,e,r,i,u,o){return n.apply(this,arguments)};case 7:return function(t,e,r,i,u,o,a){return n.apply(this,arguments)};case 8:return function(t,e,r,i,u,o,a,c){return n.apply(this,arguments)};case 9:return function(t,e,r,i,u,o,a,c,f){return n.apply(this,arguments)};case 10:return function(t,e,r,i,u,o,a,c,f,s){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function p(t,n,e){return function(){for(var i=[],u=0,o=t,a=0;a<n.length||u<arguments.length;){var c;a<n.length&&(!r(n[a])||u>=arguments.length)?c=n[a]:(c=arguments[u],u+=1),i[a]=c,r(c)||(o-=1),a+=1}return o<=0?e.apply(this,i):d(o,p(t,i,e))}}var h=f(function(t,n){return 1===t?i(n):d(t,p(t,[],n))}),g=i(function(t){return h(t.length,function(){var n=0,e=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=e.apply(this,l(arguments,[n,r]));return n+=1,t},t.apply(this,i)})});function y(t){return function n(e,u,o){switch(arguments.length){case 0:return n;case 1:return r(e)?n:f(function(n,r){return t(e,n,r)});case 2:return r(e)&&r(u)?n:r(e)?f(function(n,e){return t(n,u,e)}):r(u)?f(function(n,r){return t(e,n,r)}):i(function(n){return t(e,u,n)});default:return r(e)&&r(u)&&r(o)?n:r(e)&&r(u)?f(function(n,e){return t(n,e,o)}):r(e)&&r(o)?f(function(n,e){return t(n,u,e)}):r(u)&&r(o)?f(function(n,r){return t(e,n,r)}):r(e)?i(function(n){return t(n,u,o)}):r(u)?i(function(n){return t(e,n,o)}):r(o)?i(function(n){return t(e,u,n)}):t(e,u,o)}}}var v=y(function(t,n,e){if(n>=e.length||n<-e.length)return e;var r=(n<0?e.length:0)+n,i=l(e);return i[r]=t(e[r]),i}),m=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function x(t){return"function"==typeof t["@@transducer/step"]}function b(t,n,e){return function(){if(0===arguments.length)return e();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!m(i)){for(var u=0;u<t.length;){if("function"==typeof i[t[u]])return i[t[u]].apply(i,r);u+=1}if(x(i))return n.apply(null,r)(i)}return e.apply(this,arguments)}}function C(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var w={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},A=function(){function t(t,n){this.xf=n,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)||(this.all=!1,t=C(this.xf["@@transducer/step"](t,!1))),t},t}(),k=f(b(["all"],f(function(t,n){return new A(t,n)}),function(t,n){for(var e=0;e<n.length;){if(!t(n[e]))return!1;e+=1}return!0})),S=f(function(t,n){return n>t?n:t});function O(t,n){for(var e=0,r=n.length,i=Array(r);e<r;)i[e]=t(n[e]),e+=1;return i}function E(t){return"[object String]"===Object.prototype.toString.call(t)}var I=i(function(t){return!!m(t)||!!t&&("object"==typeof t&&(!E(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),j=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();function B(t){return new j(t)}var W=f(function(t,n){return d(t.length,function(){return t.apply(n,arguments)})});function T(t,n,e){for(var r=e.next();!r.done;){if((n=t["@@transducer/step"](n,r.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=e.next()}return t["@@transducer/result"](n)}function F(t,n,e,r){return t["@@transducer/result"](e[r](W(t["@@transducer/step"],t),n))}var _="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function N(t,n,e){if("function"==typeof t&&(t=B(t)),I(e))return function(t,n,e){for(var r=0,i=e.length;r<i;){if((n=t["@@transducer/step"](n,e[r]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return t["@@transducer/result"](n)}(t,n,e);if("function"==typeof e["fantasy-land/reduce"])return F(t,n,e,"fantasy-land/reduce");if(null!=e[_])return T(t,n,e[_]());if("function"==typeof e.next)return T(t,n,e);if("function"==typeof e.reduce)return F(t,n,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}var M=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},t}(),q=f(function(t,n){return new M(t,n)});function D(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var P=Object.prototype.toString,R=function(){return"[object Arguments]"===P.call(arguments)?function(t){return"[object Arguments]"===P.call(t)}:function(t){return D("callee",t)}},H=!{toString:null}.propertyIsEnumerable("toString"),L=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],U=function(){return arguments.propertyIsEnumerable("length")}(),z=function(t,n){for(var e=0;e<t.length;){if(t[e]===n)return!0;e+=1}return!1},Q=i("function"!=typeof Object.keys||U?function(t){if(Object(t)!==t)return[];var n,e,r=[],i=U&&R(t);for(n in t)!D(n,t)||i&&"length"===n||(r[r.length]=n);if(H)for(e=L.length-1;e>=0;)D(n=L[e],t)&&!z(r,n)&&(r[r.length]=n),e-=1;return r}:function(t){return Object(t)!==t?[]:Object.keys(t)}),$=f(b(["fantasy-land/map","map"],q,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return h(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return N(function(e,r){return e[r]=t(n[r]),e},{},Q(n));default:return O(t,n)}})),V=f(function(t,n){for(var e=n,r=0;r<t.length;){if(null==e)return;e=e[t[r]],r+=1}return e}),K=f(function(t,n){return V([t],n)}),X=f(function(t,n){return $(K(t),n)}),Z=y(N),G=i(function(t){return h(Z(S,0,X("length",t)),function(){for(var n=0,e=t.length;n<e;){if(!t[n].apply(this,arguments))return!1;n+=1}return!0})}),J=f(function(t,n){return t&&n}),Y=function(){function t(t,n){this.xf=n,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=C(this.xf["@@transducer/step"](t,!0))),t},t}(),tt=f(function(t,n){return new Y(t,n)}),nt=f(b(["any"],tt,function(t,n){for(var e=0;e<n.length;){if(t(n[e]))return!0;e+=1}return!1})),et=i(function(t){return h(Z(S,0,X("length",t)),function(){for(var n=0,e=t.length;n<e;){if(t[n].apply(this,arguments))return!0;n+=1}return!1})}),rt=f(function(t,n){return"function"==typeof n["fantasy-land/ap"]?n["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(n):"function"==typeof t?function(e){return t(e)(n(e))}:N(function(t,e){return l(t,$(e,n))},[],t)});var it=function(){function t(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.store(n),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return l(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),ut=f(b([],f(function(t,n){return new it(t,n)}),function(t,n){for(var e=0,r=n.length-(t-1),i=new Array(r>=0?r:0);e<r;)i[e]=Array.prototype.slice.call(n,e,e+t),e+=1;return i})),ot=f(function(t,n){return l(n,[t])}),at=f(function(t,n){return t.apply(this,n)}),ct=i(function(t){for(var n=Q(t),e=n.length,r=[],i=0;i<e;)r[i]=t[n[i]],i+=1;return r}),ft=i(function t(n){return n=$(function(n){return"function"==typeof n?n:t(n)},n),h(Z(S,0,X("length",ct(n))),function(){var t=arguments;return $(function(n){return at(n,t)},n)})}),st=f(function(t,n){return n(t)}),lt=y(function(t,n,e){var r=t(n),i=t(e);return r<i?-1:r>i?1:0}),dt=y(function(t,n,e){var r={};for(var i in e)r[i]=e[i];return r[t]=n,r}),pt=Number.isInteger||function(t){return t<<0===t},ht=i(function(t){return null==t}),gt=y(function t(n,e,r){if(0===n.length)return e;var i=n[0];if(n.length>1){var u=!ht(r)&&D(i,r)?r[i]:pt(n[1])?[]:{};e=t(Array.prototype.slice.call(n,1),e,u)}if(pt(i)&&m(r)){var o=[].concat(r);return o[i]=e,o}return dt(i,e,r)}),yt=f(function(t,n){switch(t){case 0:return function(){return n.call(this)};case 1:return function(t){return n.call(this,t)};case 2:return function(t,e){return n.call(this,t,e)};case 3:return function(t,e,r){return n.call(this,t,e,r)};case 4:return function(t,e,r,i){return n.call(this,t,e,r,i)};case 5:return function(t,e,r,i,u){return n.call(this,t,e,r,i,u)};case 6:return function(t,e,r,i,u,o){return n.call(this,t,e,r,i,u,o)};case 7:return function(t,e,r,i,u,o,a){return n.call(this,t,e,r,i,u,o,a)};case 8:return function(t,e,r,i,u,o,a,c){return n.call(this,t,e,r,i,u,o,a,c)};case 9:return function(t,e,r,i,u,o,a,c,f){return n.call(this,t,e,r,i,u,o,a,c,f)};case 10:return function(t,e,r,i,u,o,a,c,f,s){return n.call(this,t,e,r,i,u,o,a,c,f,s)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),vt=i(function(t){return yt(2,t)});function mt(t){return"[object Function]"===Object.prototype.toString.call(t)}var xt=f(function(t,n){var e=h(t,n);return h(t,function(){return N(rt,$(e,arguments[0]),Array.prototype.slice.call(arguments,1))})}),bt=i(function(t){return xt(t.length,t)}),Ct=f(function(t,n){return mt(t)?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:bt(J)(t,n)}),wt=i(function(t){return h(t.length,t)}),At=wt(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))});function kt(t){return function n(e){for(var r,i,u,o=[],a=0,c=e.length;a<c;){if(I(e[a]))for(u=0,i=(r=t?n(e[a]):e[a]).length;u<i;)o[o.length]=r[u],u+=1;else o[o.length]=e[a];a+=1}return o}}var St=function(t){var n=function(t){return{"@@transducer/init":w.init,"@@transducer/result":function(n){return t["@@transducer/result"](n)},"@@transducer/step":function(n,e){var r=t["@@transducer/step"](n,e);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r}}}(t);return{"@@transducer/init":w.init,"@@transducer/result":function(t){return n["@@transducer/result"](t)},"@@transducer/step":function(t,e){return I(e)?N(n,t,e):N(n,t,[e])}}},Ot=f(b(["fantasy-land/chain","chain"],f(function(t,n){return $(t,St(n))}),function(t,n){return"function"==typeof n?function(e){return t(n(e))(e)}:kt(!1)($(t,n))})),Et=y(function(t,n,e){if(t>n)throw new Error("min must not be greater than max in clamp(min, max, value)");return e<t?t:e>n?n:e});function It(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var jt=i(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function Bt(t,n,e,r){var i=function(i){for(var u=n.length,o=0;o<u;){if(t===n[o])return e[o];o+=1}for(var a in n[o+1]=t,e[o+1]=i,t)i[a]=r?Bt(t[a],n,e,!0):t[a];return i};switch(jt(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return It(t);default:return t}}var Wt=i(function(t){return null!=t&&"function"==typeof t.clone?t.clone():Bt(t,[],[],!0)}),Tt=i(function(t){return function(n,e){return t(n,e)?-1:t(e,n)?1:0}}),Ft=i(function(t){return!t}),_t=bt(Ft);function Nt(t,n){return function(){return n.call(this,t.apply(this,arguments))}}function Mt(t,n){return function(){var e=arguments.length;if(0===e)return n();var r=arguments[e-1];return m(r)||"function"!=typeof r[t]?n.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,e-1))}}var qt=y(Mt("slice",function(t,n,e){return Array.prototype.slice.call(e,t,n)})),Dt=i(Mt("tail",qt(1,1/0)));function Pt(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return d(arguments[0].length,Z(Nt,arguments[0],Dt(arguments)))}var Rt=i(function(t){return E(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()});function Ht(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Pt.apply(this,Rt(arguments))}function Lt(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),n=t.pop();return Ht(Ht.apply(this,$(Ot,t)),n)}function Ut(t,n){return function(){var e=this;return t.apply(e,arguments).then(function(t){return n.call(e,t)})}}function zt(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return d(arguments[0].length,Z(Ut,arguments[0],Dt(arguments)))}function Qt(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return zt.apply(this,Rt(arguments))}function $t(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function Vt(t,n,e){for(var r=0,i=e.length;r<i;){if(t(n,e[r]))return!0;r+=1}return!1}var Kt=f(function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n});function Xt(t,n,e,r){var i=$t(t);function u(t,n){return Zt(t,n,e.slice(),r.slice())}return!Vt(function(t,n){return!Vt(u,n,t)},$t(n),i)}function Zt(t,n,e,r){if(Kt(t,n))return!0;var i,u,o=jt(t);if(o!==jt(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(i=t.constructor,null==(u=String(i).match(/^function (\w*)/))?"":u[1]))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!Kt(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!Kt(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var a=e.length-1;a>=0;){if(e[a]===t)return r[a]===n;a-=1}switch(o){case"Map":return t.size===n.size&&Xt(t.entries(),n.entries(),e.concat([t]),r.concat([n]));case"Set":return t.size===n.size&&Xt(t.values(),n.values(),e.concat([t]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=Q(t);if(c.length!==Q(n).length)return!1;var f=e.concat([t]),s=r.concat([n]);for(a=c.length-1;a>=0;){var l=c[a];if(!D(l,n)||!Zt(n[l],t[l],f,s))return!1;a-=1}return!0}var Gt=f(function(t,n){return Zt(t,n,[],[])});function Jt(t,n,e){var r,i;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(r=1/n;e<t.length;){if(0===(i=t[e])&&1/i===r)return e;e+=1}return-1}if(n!=n){for(;e<t.length;){if("number"==typeof(i=t[e])&&i!=i)return e;e+=1}return-1}return t.indexOf(n,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,e);case"object":if(null===n)return t.indexOf(n,e)}for(;e<t.length;){if(Gt(t[e],n))return e;e+=1}return-1}function Yt(t,n){return Jt(n,t,0)>=0}function tn(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var nn=function(t){return(t<10?"0":"")+t},en="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+nn(t.getUTCMonth()+1)+"-"+nn(t.getUTCDate())+"T"+nn(t.getUTCHours())+":"+nn(t.getUTCMinutes())+":"+nn(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function rn(t){return function(){return!t.apply(this,arguments)}}function un(t,n){for(var e=0,r=n.length,i=[];e<r;)t(n[e])&&(i[i.length]=n[e]),e+=1;return i}function on(t){return"[object Object]"===Object.prototype.toString.call(t)}var an=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},t}(),cn=f(b(["filter"],f(function(t,n){return new an(t,n)}),function(t,n){return on(n)?N(function(e,r){return t(n[r])&&(e[r]=n[r]),e},{},Q(n)):un(t,n)})),fn=f(function(t,n){return cn(rn(t),n)});var sn=i(function(t){return function t(n,e){var r=function(r){var i=e.concat([n]);return Yt(r,i)?"<Circular>":t(r,i)},i=function(t,n){return O(function(n){return tn(n)+": "+r(t[n])},n.slice().sort())};switch(Object.prototype.toString.call(n)){case"[object Arguments]":return"(function() { return arguments; }("+O(r,n).join(", ")+"))";case"[object Array]":return"["+O(r,n).concat(i(n,fn(function(t){return/^\d+$/.test(t)},Q(n)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof n?"new Boolean("+r(n.valueOf())+")":n.toString();case"[object Date]":return"new Date("+(isNaN(n.valueOf())?r(NaN):tn(en(n)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof n?"new Number("+r(n.valueOf())+")":1/n==-1/0?"-0":n.toString(10);case"[object String]":return"object"==typeof n?"new String("+r(n.valueOf())+")":tn(n);case"[object Undefined]":return"undefined";default:if("function"==typeof n.toString){var u=n.toString();if("[object Object]"!==u)return u}return"{"+i(n,Q(n)).join(", ")+"}"}}(t,[])}),ln=f(function(t,n){if(m(t)){if(m(n))return t.concat(n);throw new TypeError(sn(n)+" is not an array")}if(E(t)){if(E(n))return t+n;throw new TypeError(sn(n)+" is not a string")}if(null!=t&&mt(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(null!=t&&mt(t.concat))return t.concat(n);throw new TypeError(sn(t)+' does not have a method named "concat" or "fantasy-land/concat"')}),dn=i(function(t){return d(Z(S,0,$(function(t){return t[0].length},t)),function(){for(var n=0;n<t.length;){if(t[n][0].apply(this,arguments))return t[n][1].apply(this,arguments);n+=1}})}),pn=f(function(t,n){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new n}:wt(yt(t,function(t,e,r,i,u,o,a,c,f,s){switch(arguments.length){case 1:return new n(t);case 2:return new n(t,e);case 3:return new n(t,e,r);case 4:return new n(t,e,r,i);case 5:return new n(t,e,r,i,u);case 6:return new n(t,e,r,i,u,o);case 7:return new n(t,e,r,i,u,o,a);case 8:return new n(t,e,r,i,u,o,a,c);case 9:return new n(t,e,r,i,u,o,a,c,f);case 10:return new n(t,e,r,i,u,o,a,c,f,s)}}))}),hn=i(function(t){return pn(t.length,t)}),gn=f(Yt),yn=f(function(t,n){return h(Z(S,0,X("length",n)),function(){var e=arguments,r=this;return t.apply(r,O(function(t){return t.apply(r,e)},n))})}),vn=function(){function t(t,n,e,r){this.valueFn=t,this.valueAcc=n,this.keyFn=e,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){var n;for(n in this.inputs)if(D(n,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[n]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){var e=this.keyFn(n);return this.inputs[e]=this.inputs[e]||[e,this.valueAcc],this.inputs[e][1]=this.valueFn(this.inputs[e][1],n),t},t}(),mn=p(4,[],b([],p(4,[],function(t,n,e,r){return new vn(t,n,e,r)}),function(t,n,e,r){return N(function(r,i){var u=e(i);return r[u]=t(D(u,r)?r[u]:n,i),r},{},r)})),xn=mn(function(t,n){return t+1},0),bn=s(-1),Cn=f(function(t,n){return null==n||n!=n?t:n}),wn=y(function(t,n,e){var r=t(n),i=t(e);return r>i?-1:r<i?1:0}),An=f(function(t,n){for(var e=[],r=0,i=t.length;r<i;)Yt(t[r],n)||Yt(t[r],e)||(e[e.length]=t[r]),r+=1;return e}),kn=y(function(t,n,e){for(var r=[],i=0,u=n.length;i<u;)Vt(t,n[i],e)||Vt(t,n[i],r)||r.push(n[i]),i+=1;return r}),Sn=f(function(t,n){var e={};for(var r in n)e[r]=n[r];return delete e[t],e}),On=y(function(t,n,e){var r=Array.prototype.slice.call(e,0);return r.splice(t,n),r}),En=y(function(t,n,e){return v(u(n),t,e)}),In=f(function t(n,e){switch(n.length){case 0:return e;case 1:return pt(n[0])?On(n[0],1,e):Sn(n[0],e);default:var r=n[0],i=Array.prototype.slice.call(n,1);return null==e[r]?e:pt(n[0])?En(r,t(i,e[r]),e):dt(r,t(i,e[r]),e)}}),jn=f(function(t,n){return t/n}),Bn=function(){function t(t,n){this.xf=n,this.n=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,n){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,n)},t}(),Wn=f(b(["drop"],f(function(t,n){return new Bn(t,n)}),function(t,n){return qt(Math.max(0,t),1/0,n)})),Tn=function(){function t(t,n){this.xf=n,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,n){this.i+=1;var e=0===this.n?t:this.xf["@@transducer/step"](t,n);return this.n>=0&&this.i>=this.n?C(e):e},t}(),Fn=f(b(["take"],f(function(t,n){return new Tn(t,n)}),function(t,n){return qt(0,t<0?1/0:t,n)}));var _n=function(){function t(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(n),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),Nn=f(b([],f(function(t,n){return new _n(t,n)}),function(t,n){return Fn(t<n.length?n.length-t:0,n)}));var Mn=function(){function t(t,n){this.f=t,this.retained=[],this.xf=n}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.retain(t,n):this.flush(t,n)},t.prototype.flush=function(t,n){return t=N(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,n)},t.prototype.retain=function(t,n){return this.retained.push(n),t},t}(),qn=f(b([],f(function(t,n){return new Mn(t,n)}),function(t,n){for(var e=n.length-1;e>=0&&t(n[e]);)e-=1;return qt(0,e+1,n)})),Dn=function(){function t(t,n){this.xf=n,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,n){var e=!1;return this.seenFirstValue?this.pred(this.lastValue,n)&&(e=!0):this.seenFirstValue=!0,this.lastValue=n,e?t:this.xf["@@transducer/step"](t,n)},t}(),Pn=f(function(t,n){return new Dn(t,n)}),Rn=f(function(t,n){var e=t<0?n.length+t:t;return E(n)?n.charAt(e):n[e]}),Hn=Rn(-1),Ln=f(b([],Pn,function(t,n){var e=[],r=1,i=n.length;if(0!==i)for(e[0]=n[0];r<i;)t(Hn(e),n[r])||(e[e.length]=n[r]),r+=1;return e})),Un=i(b([],Pn(Gt),Ln(Gt))),zn=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,n){if(this.f){if(this.f(n))return t;this.f=null}return this.xf["@@transducer/step"](t,n)},t}(),Qn=f(b(["dropWhile"],f(function(t,n){return new zn(t,n)}),function(t,n){for(var e=0,r=n.length;e<r&&t(n[e]);)e+=1;return qt(e,1/0,n)})),$n=f(function(t,n){return t||n}),Vn=f(function(t,n){return mt(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:bt($n)(t,n)}),Kn=i(function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():m(t)?[]:E(t)?"":on(t)?{}:R(t)?function(){return arguments}():void 0}),Xn=f(function(t,n){return Wn(t>=0?n.length-t:0,n)}),Zn=f(function(t,n){return Gt(Xn(t.length,n),t)}),Gn=y(function(t,n,e){return Gt(t(n),t(e))}),Jn=y(function(t,n,e){return Gt(n[t],e[t])}),Yn=f(function t(n,e){var r,i,u,o={};for(i in e)u=typeof(r=n[i]),o[i]="function"===u?r(e[i]):r&&"object"===u?t(r,e[i]):e[i];return o}),te=function(){function t(t,n){this.xf=n,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.found=!0,t=C(this.xf["@@transducer/step"](t,n))),t},t}(),ne=f(b(["find"],f(function(t,n){return new te(t,n)}),function(t,n){for(var e=0,r=n.length;e<r;){if(t(n[e]))return n[e];e+=1}})),ee=function(){function t(t,n){this.xf=n,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.found=!0,t=C(this.xf["@@transducer/step"](t,this.idx))),t},t}(),re=f(b([],f(function(t,n){return new ee(t,n)}),function(t,n){for(var e=0,r=n.length;e<r;){if(t(n[e]))return e;e+=1}return-1})),ie=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.last=n),t},t}(),ue=f(b([],f(function(t,n){return new ie(t,n)}),function(t,n){for(var e=n.length-1;e>=0;){if(t(n[e]))return n[e];e-=1}})),oe=function(){function t(t,n){this.xf=n,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.lastIdx=this.idx),t},t}(),ae=f(b([],f(function(t,n){return new oe(t,n)}),function(t,n){for(var e=n.length-1;e>=0;){if(t(n[e]))return e;e-=1}return-1})),ce=i(kt(!0)),fe=i(function(t){return h(t.length,function(n,e){var r=Array.prototype.slice.call(arguments,0);return r[0]=e,r[1]=n,t.apply(this,r)})}),se=f(Mt("forEach",function(t,n){for(var e=n.length,r=0;r<e;)t(n[r]),r+=1;return n})),le=f(function(t,n){for(var e=Q(n),r=0;r<e.length;){var i=e[r];t(n[i],i,n),r+=1}return n}),de=i(function(t){for(var n={},e=0;e<t.length;)n[t[e][0]]=t[e][1],e+=1;return n}),pe=f(Mt("groupBy",mn(function(t,n){return null==t&&(t=[]),t.push(n),t},null))),he=f(function(t,n){for(var e=[],r=0,i=n.length;r<i;){for(var u=r+1;u<i&&t(n[u-1],n[u]);)u+=1;e.push(n.slice(r,u)),r=u}return e}),ge=f(function(t,n){return t>n}),ye=f(function(t,n){return t>=n}),ve=f(D),me=f(function(t,n){return t in n}),xe=Rn(0);function be(t){return t}var Ce=i(be),we=y(function(t,n,e){return h(Math.max(t.length,n.length,e.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):e.apply(this,arguments)})}),Ae=s(1),ke=mn(function(t,n){return n},null),Se=f(function(t,n){return"function"!=typeof n.indexOf||m(n)?Jt(n,t,0):n.indexOf(t)}),Oe=qt(0,-1),Ee=y(function(t,n,e){return un(function(n){return Vt(t,n,e)},n)}),Ie=y(function(t,n,e){t=t<e.length&&t>=0?t:e.length;var r=Array.prototype.slice.call(e,0);return r.splice(t,0,n),r}),je=y(function(t,n,e){return t=t<e.length&&t>=0?t:e.length,[].concat(Array.prototype.slice.call(e,0,t),n,Array.prototype.slice.call(e,t))});function Be(t,n,e){var r,i=typeof t;switch(i){case"string":case"number":return 0===t&&1/t==-1/0?!!e._items["-0"]||(n&&(e._items["-0"]=!0),!1):null!==e._nativeSet?n?(r=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===r):e._nativeSet.has(t):i in e._items?t in e._items[i]||(n&&(e._items[i][t]=!0),!1):(n&&(e._items[i]={},e._items[i][t]=!0),!1);case"boolean":if(i in e._items){var u=t?1:0;return!!e._items[i][u]||(n&&(e._items[i][u]=!0),!1)}return n&&(e._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==e._nativeSet?n?(r=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===r):e._nativeSet.has(t):i in e._items?!!Yt(t,e._items[i])||(n&&e._items[i].push(t),!1):(n&&(e._items[i]=[t]),!1);case"undefined":return!!e._items[i]||(n&&(e._items[i]=!0),!1);case"object":if(null===t)return!!e._items.null||(n&&(e._items.null=!0),!1);default:return(i=Object.prototype.toString.call(t))in e._items?!!Yt(t,e._items[i])||(n&&e._items[i].push(t),!1):(n&&(e._items[i]=[t]),!1)}}var We=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!Be(t,!0,this)},t.prototype.has=function(t){return Be(t,!1,this)},t}(),Te=f(function(t,n){for(var e,r,i=new We,u=[],o=0;o<n.length;)e=t(r=n[o]),i.add(e)&&u.push(r),o+=1;return u}),Fe=Te(Ce),_e=f(function(t,n){var e,r;return t.length>n.length?(e=t,r=n):(e=n,r=t),Fe(un(fe(Yt)(e),r))}),Ne=f(Mt("intersperse",function(t,n){for(var e=[],r=0,i=n.length;r<i;)r===i-1?e.push(n[r]):e.push(n[r],t),r+=1;return e}));var Me="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),e=1,r=arguments.length;e<r;){var i=arguments[e];if(null!=i)for(var u in i)D(u,i)&&(n[u]=i[u]);e+=1}return n},qe=f(function(t,n){var e={};return e[t]=n,e}),De={"@@transducer/init":Array,"@@transducer/step":function(t,n){return t.push(n),t},"@@transducer/result":be},Pe={"@@transducer/init":String,"@@transducer/step":function(t,n){return t+n},"@@transducer/result":be},Re={"@@transducer/init":Object,"@@transducer/step":function(t,n){return Me(t,I(n)?qe(n[0],n[1]):n)},"@@transducer/result":be};var He=y(function(t,n,e){return x(t)?N(n(t),t["@@transducer/init"](),e):N(n(function(t){if(x(t))return t;if(I(t))return De;if("string"==typeof t)return Pe;if("object"==typeof t)return Re;throw new Error("Cannot create transformer for "+t)}(t)),Bt(t,[],[],!1),e)}),Le=i(function(t){for(var n=Q(t),e=n.length,r=0,i={};r<e;){var u=n[r],o=t[u],a=D(o,i)?i[o]:i[o]=[];a[a.length]=u,r+=1}return i}),Ue=i(function(t){for(var n=Q(t),e=n.length,r=0,i={};r<e;){var u=n[r];i[t[u]]=u,r+=1}return i}),ze=f(function(t,n){return h(t+1,function(){var e=arguments[t];if(null!=e&&mt(e[n]))return e[n].apply(e,Array.prototype.slice.call(arguments,0,t));throw new TypeError(sn(e)+' does not have a method named "'+n+'"')})}),Qe=f(function(t,n){return null!=n&&n.constructor===t||n instanceof t}),$e=i(function(t){return null!=t&&Gt(t,Kn(t))}),Ve=ze(1,"join"),Ke=i(function(t){return yn(function(){return Array.prototype.slice.call(arguments,0)},t)}),Xe=i(function(t){var n,e=[];for(n in t)e[e.length]=n;return e}),Ze=f(function(t,n){if("function"!=typeof n.lastIndexOf||m(n)){for(var e=n.length-1;e>=0;){if(Gt(n[e],t))return e;e-=1}return-1}return n.lastIndexOf(t)});function Ge(t){return"[object Number]"===Object.prototype.toString.call(t)}var Je=i(function(t){return null!=t&&Ge(t.length)?t.length:NaN}),Ye=f(function(t,n){return function(e){return function(r){return $(function(t){return n(t,r)},e(t(r)))}}}),tr=i(function(t){return Ye(Rn(t),En(t))}),nr=i(function(t){return Ye(V(t),gt(t))}),er=i(function(t){return Ye(K(t),dt(t))}),rr=f(function(t,n){return t<n}),ir=f(function(t,n){return t<=n}),ur=y(function(t,n,e){for(var r=0,i=e.length,u=[],o=[n];r<i;)o=t(o[0],e[r]),u[r]=o[1],r+=1;return[o[0],u]}),or=y(function(t,n,e){for(var r=e.length-1,i=[],u=[n];r>=0;)u=t(e[r],u[0]),i[r]=u[1],r-=1;return[i,u[0]]}),ar=f(function(t,n){return N(function(e,r){return e[r]=t(n[r],r,n),e},{},Q(n))}),cr=f(function(t,n){return n.match(t)||[]}),fr=f(function(t,n){return pt(t)?!pt(n)||n<1?NaN:(t%n+n)%n:NaN}),sr=y(function(t,n,e){return t(e)>t(n)?e:n}),lr=Z(s,0),dr=i(function(t){return lr(t)/t.length}),pr=i(function(t){var n=t.length;if(0===n)return NaN;var e=2-n%2,r=(n-e)/2;return dr(Array.prototype.slice.call(t,0).sort(function(t,n){return t<n?-1:t>n?1:0}).slice(r,r+e))}),hr=f(function(t,n){var e={};return d(n.length,function(){var r=t.apply(this,arguments);return D(r,e)||(e[r]=n.apply(this,arguments)),e[r]})}),gr=hr(function(){return sn(arguments)}),yr=f(function(t,n){return Me({},t,n)}),vr=i(function(t){return Me.apply(null,[{}].concat(t))}),mr=y(function(t,n,e){var r,i={};for(r in n)D(r,n)&&(i[r]=D(r,e)?t(r,n[r],e[r]):n[r]);for(r in e)D(r,e)&&!D(r,i)&&(i[r]=e[r]);return i}),xr=y(function t(n,e,r){return mr(function(e,r,i){return on(r)&&on(i)?t(n,r,i):n(e,r,i)},e,r)}),br=f(function(t,n){return xr(function(t,n,e){return n},t,n)}),Cr=f(function(t,n){return xr(function(t,n,e){return e},t,n)}),wr=y(function(t,n,e){return xr(function(n,e,r){return t(e,r)},n,e)}),Ar=y(function(t,n,e){return mr(function(n,e,r){return t(e,r)},n,e)}),kr=f(function(t,n){return n<t?n:t}),Sr=y(function(t,n,e){return t(e)<t(n)?e:n}),Or=f(function(t,n){return t%n}),Er=f(function(t,n){return t*n}),Ir=i(function(t){return-t}),jr=f(rn(b(["any"],tt,nt))),Br=i(function(t){return h(t<0?1:t+1,function(){return Rn(t,arguments)})}),Wr=y(function(t,n,e){return t(n(e))});var Tr=i(function(t){return[t]}),Fr=f(function(t,n){for(var e={},r={},i=0,u=t.length;i<u;)r[t[i]]=1,i+=1;for(var o in n)r.hasOwnProperty(o)||(e[o]=n[o]);return e}),_r=i(function(t){var n,e=!1;return d(t.length,function(){return e?n:(e=!0,n=t.apply(this,arguments))})}),Nr=function(t){return{value:t,map:function(n){return Nr(n(t))}}},Mr=y(function(t,n,e){return t(function(t){return Nr(n(t))})(e).value}),qr=f(function(t,n){return[t,n]});function Dr(t){return f(function(n,e){return d(Math.max(0,n.length-e.length),function(){return n.apply(this,t(e,arguments))})})}var Pr=Dr(l),Rr=Dr(fe(l)),Hr=Ke([cn,fn]),Lr=y(function(t,n,e){return Gt(V(t,e),n)}),Ur=y(function(t,n,e){return Cn(t,V(n,e))}),zr=y(function(t,n,e){return n.length>0&&t(V(n,e))}),Qr=f(function(t,n){for(var e={},r=0;r<t.length;)t[r]in n&&(e[t[r]]=n[t[r]]),r+=1;return e}),$r=f(function(t,n){for(var e={},r=0,i=t.length;r<i;){var u=t[r];e[u]=n[u],r+=1}return e}),Vr=f(function(t,n){var e={};for(var r in n)t(n[r],r,n)&&(e[r]=n[r]);return e});function Kr(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return Lt.apply(this,Rt(arguments))}var Xr=f(function(t,n){return l([t],n)}),Zr=Z(Er,1),Gr=f(function(t,n){return h(n.length,function(){for(var e=[],r=0;r<n.length;)e.push(n[r].call(this,arguments[r])),r+=1;return t.apply(this,e.concat(Array.prototype.slice.call(arguments,n.length)))})}),Jr=Gr(O,[$r,Ce]),Yr=y(function(t,n,e){return Gt(n,e[t])}),ti=y(function(t,n,e){return Qe(t,e[n])}),ni=y(function(t,n,e){return null!=e&&D(n,e)?e[n]:t}),ei=y(function(t,n,e){return t(e[n])}),ri=f(function(t,n){for(var e=t.length,r=[],i=0;i<e;)r[i]=n[t[i]],i+=1;return r}),ii=f(function(t,n){if(!Ge(t)||!Ge(n))throw new TypeError("Both arguments to range must be numbers");for(var e=[],r=t;r<n;)e.push(r),r+=1;return e}),ui=y(function(t,n,e){for(var r=e.length-1;r>=0;)n=t(e[r],n),r-=1;return n}),oi=p(4,[],function(t,n,e,r){return N(function(e,r){return t(e,r)?n(e,r):C(e)},e,r)}),ai=i(C),ci=f(function(t,n){var e,r=Number(n),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(e=new Array(r);i<r;)e[i]=t(i),i+=1;return e}),fi=f(function(t,n){return ci(u(t),n)}),si=y(function(t,n,e){return e.replace(t,n)}),li=y(function(t,n,e){for(var r=0,i=e.length,u=[n];r<i;)n=t(n,e[r]),u[r+1]=n,r+=1;return u}),di=f(function(t,n){return"function"==typeof n.sequence?n.sequence(t):ui(function(t,n){return rt($(Xr,t),n)},t([]),n)}),pi=y(function(t,n,e){return Mr(t,u(n),e)}),hi=f(function(t,n){return Array.prototype.slice.call(n,0).sort(t)}),gi=f(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,e){var r=t(n),i=t(e);return r<i?-1:r>i?1:0})}),yi=f(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,e){for(var r=0,i=0;0===r&&i<t.length;)r=t[i](n,e),i+=1;return r})}),vi=ze(1,"split"),mi=f(function(t,n){return[qt(0,t,n),qt(t,Je(n),n)]}),xi=f(function(t,n){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var e=[],r=0;r<n.length;)e.push(qt(r,r+=t,n));return e}),bi=f(function(t,n){for(var e=0,r=n.length,i=[];e<r&&!t(n[e]);)i.push(n[e]),e+=1;return[i,Array.prototype.slice.call(n,e)]}),Ci=f(function(t,n){return Gt(Fn(t.length,n),t)}),wi=f(function(t,n){return Number(t)-Number(n)}),Ai=f(function(t,n){return ln(An(t,n),An(n,t))}),ki=y(function(t,n,e){return ln(kn(t,n,e),kn(t,e,n))}),Si=f(function(t,n){for(var e=n.length-1;e>=0&&t(n[e]);)e-=1;return qt(e+1,1/0,n)}),Oi=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):C(t)},t}(),Ei=f(b(["takeWhile"],f(function(t,n){return new Oi(t,n)}),function(t,n){for(var e=0,r=n.length;e<r&&t(n[e]);)e+=1;return qt(0,e,n)})),Ii=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n),this.xf["@@transducer/step"](t,n)},t}(),ji=f(b([],f(function(t,n){return new Ii(t,n)}),function(t,n){return t(n),n}));var Bi=f(function(t,n){if(e=t,"[object RegExp]"!==Object.prototype.toString.call(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+sn(t));var e;return It(t).test(n)}),Wi=ze(0,"toLowerCase"),Ti=i(function(t){var n=[];for(var e in t)D(e,t)&&(n[n.length]=[e,t[e]]);return n}),Fi=i(function(t){var n=[];for(var e in t)n[n.length]=[e,t[e]];return n}),_i=ze(0,"toUpperCase"),Ni=h(4,function(t,n,e,r){return N(t("function"==typeof n?B(n):n),e,r)}),Mi=i(function(t){for(var n=0,e=[];n<t.length;){for(var r=t[n],i=0;i<r.length;)void 0===e[i]&&(e[i]=[]),e[i].push(r[i]),i+=1;n+=1}return e}),qi=y(function(t,n,e){return"function"==typeof e["fantasy-land/traverse"]?e["fantasy-land/traverse"](n,t):di(t,$(n,e))}),Di="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Pi=i("function"==typeof String.prototype.trim&&!Di.trim()&&"​".trim()?function(t){return t.trim()}:function(t){var n=new RegExp("^["+Di+"]["+Di+"]*"),e=new RegExp("["+Di+"]["+Di+"]*$");return t.replace(n,"").replace(e,"")}),Ri=f(function(t,n){return d(t.length,function(){try{return t.apply(this,arguments)}catch(t){return n.apply(this,l([t],arguments))}})}),Hi=i(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}}),Li=i(function(t){return yt(1,t)}),Ui=f(function(t,n){return h(t,function(){for(var e,r=1,i=n,u=0;r<=t&&"function"==typeof i;)e=r===t?arguments.length:u+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,u,e)),r+=1,u=e;return i})}),zi=f(function(t,n){for(var e=t(n),r=[];e&&e.length;)r[r.length]=e[0],e=t(e[1]);return r}),Qi=f(Ht(Fe,l)),$i=f(function(t,n){for(var e,r=0,i=n.length,u=[];r<i;)Vt(t,e=n[r],u)||(u[u.length]=e),r+=1;return u}),Vi=y(function(t,n,e){return $i(t,l(n,e))}),Ki=y(function(t,n,e){return t(e)?e:n(e)}),Xi=Ot(be),Zi=y(function(t,n,e){for(var r=e;!t(r);)r=n(r);return r}),Gi=i(function(t){var n,e=[];for(n in t)e[e.length]=t[n];return e}),Ji=function(t){return{value:t,"fantasy-land/map":function(){return this}}},Yi=f(function(t,n){return t(Ji)(n).value}),tu=y(function(t,n,e){return t(e)?n(e):e}),nu=f(function(t,n){for(var e in t)if(D(e,t)&&!t[e](n[e]))return!1;return!0}),eu=f(function(t,n){return nu($(Gt,t),n)}),ru=f(function(t,n){return fn(fe(Yt)(t),n)}),iu=f(function(t,n){for(var e,r=0,i=t.length,u=n.length,o=[];r<i;){for(e=0;e<u;)o[o.length]=[t[r],n[e]],e+=1;r+=1}return o}),uu=f(function(t,n){for(var e=[],r=0,i=Math.min(t.length,n.length);r<i;)e[r]=[t[r],n[r]],r+=1;return e}),ou=f(function(t,n){for(var e=0,r=Math.min(t.length,n.length),i={};e<r;)i[t[e]]=n[e],e+=1;return i}),au=y(function(t,n,e){for(var r=[],i=0,u=Math.min(n.length,e.length);i<u;)r[i]=t(n[i],e[i]),i+=1;return r});e.d(n,"F",function(){return o}),e.d(n,"T",function(){return a}),e.d(n,"__",function(){return c}),e.d(n,"add",function(){return s}),e.d(n,"addIndex",function(){return g}),e.d(n,"adjust",function(){return v}),e.d(n,"all",function(){return k}),e.d(n,"allPass",function(){return G}),e.d(n,"always",function(){return u}),e.d(n,"and",function(){return J}),e.d(n,"any",function(){return nt}),e.d(n,"anyPass",function(){return et}),e.d(n,"ap",function(){return rt}),e.d(n,"aperture",function(){return ut}),e.d(n,"append",function(){return ot}),e.d(n,"apply",function(){return at}),e.d(n,"applySpec",function(){return ft}),e.d(n,"applyTo",function(){return st}),e.d(n,"ascend",function(){return lt}),e.d(n,"assoc",function(){return dt}),e.d(n,"assocPath",function(){return gt}),e.d(n,"binary",function(){return vt}),e.d(n,"bind",function(){return W}),e.d(n,"both",function(){return Ct}),e.d(n,"call",function(){return At}),e.d(n,"chain",function(){return Ot}),e.d(n,"clamp",function(){return Et}),e.d(n,"clone",function(){return Wt}),e.d(n,"comparator",function(){return Tt}),e.d(n,"complement",function(){return _t}),e.d(n,"compose",function(){return Ht}),e.d(n,"composeK",function(){return Lt}),e.d(n,"composeP",function(){return Qt}),e.d(n,"concat",function(){return ln}),e.d(n,"cond",function(){return dn}),e.d(n,"construct",function(){return hn}),e.d(n,"constructN",function(){return pn}),e.d(n,"contains",function(){return gn}),e.d(n,"converge",function(){return yn}),e.d(n,"countBy",function(){return xn}),e.d(n,"curry",function(){return wt}),e.d(n,"curryN",function(){return h}),e.d(n,"dec",function(){return bn}),e.d(n,"defaultTo",function(){return Cn}),e.d(n,"descend",function(){return wn}),e.d(n,"difference",function(){return An}),e.d(n,"differenceWith",function(){return kn}),e.d(n,"dissoc",function(){return Sn}),e.d(n,"dissocPath",function(){return In}),e.d(n,"divide",function(){return jn}),e.d(n,"drop",function(){return Wn}),e.d(n,"dropLast",function(){return Nn}),e.d(n,"dropLastWhile",function(){return qn}),e.d(n,"dropRepeats",function(){return Un}),e.d(n,"dropRepeatsWith",function(){return Ln}),e.d(n,"dropWhile",function(){return Qn}),e.d(n,"either",function(){return Vn}),e.d(n,"empty",function(){return Kn}),e.d(n,"endsWith",function(){return Zn}),e.d(n,"eqBy",function(){return Gn}),e.d(n,"eqProps",function(){return Jn}),e.d(n,"equals",function(){return Gt}),e.d(n,"evolve",function(){return Yn}),e.d(n,"filter",function(){return cn}),e.d(n,"find",function(){return ne}),e.d(n,"findIndex",function(){return re}),e.d(n,"findLast",function(){return ue}),e.d(n,"findLastIndex",function(){return ae}),e.d(n,"flatten",function(){return ce}),e.d(n,"flip",function(){return fe}),e.d(n,"forEach",function(){return se}),e.d(n,"forEachObjIndexed",function(){return le}),e.d(n,"fromPairs",function(){return de}),e.d(n,"groupBy",function(){return pe}),e.d(n,"groupWith",function(){return he}),e.d(n,"gt",function(){return ge}),e.d(n,"gte",function(){return ye}),e.d(n,"has",function(){return ve}),e.d(n,"hasIn",function(){return me}),e.d(n,"head",function(){return xe}),e.d(n,"identical",function(){return Kt}),e.d(n,"identity",function(){return Ce}),e.d(n,"ifElse",function(){return we}),e.d(n,"inc",function(){return Ae}),e.d(n,"indexBy",function(){return ke}),e.d(n,"indexOf",function(){return Se}),e.d(n,"init",function(){return Oe}),e.d(n,"innerJoin",function(){return Ee}),e.d(n,"insert",function(){return Ie}),e.d(n,"insertAll",function(){return je}),e.d(n,"intersection",function(){return _e}),e.d(n,"intersperse",function(){return Ne}),e.d(n,"into",function(){return He}),e.d(n,"invert",function(){return Le}),e.d(n,"invertObj",function(){return Ue}),e.d(n,"invoker",function(){return ze}),e.d(n,"is",function(){return Qe}),e.d(n,"isEmpty",function(){return $e}),e.d(n,"isNil",function(){return ht}),e.d(n,"join",function(){return Ve}),e.d(n,"juxt",function(){return Ke}),e.d(n,"keys",function(){return Q}),e.d(n,"keysIn",function(){return Xe}),e.d(n,"last",function(){return Hn}),e.d(n,"lastIndexOf",function(){return Ze}),e.d(n,"length",function(){return Je}),e.d(n,"lens",function(){return Ye}),e.d(n,"lensIndex",function(){return tr}),e.d(n,"lensPath",function(){return nr}),e.d(n,"lensProp",function(){return er}),e.d(n,"lift",function(){return bt}),e.d(n,"liftN",function(){return xt}),e.d(n,"lt",function(){return rr}),e.d(n,"lte",function(){return ir}),e.d(n,"map",function(){return $}),e.d(n,"mapAccum",function(){return ur}),e.d(n,"mapAccumRight",function(){return or}),e.d(n,"mapObjIndexed",function(){return ar}),e.d(n,"match",function(){return cr}),e.d(n,"mathMod",function(){return fr}),e.d(n,"max",function(){return S}),e.d(n,"maxBy",function(){return sr}),e.d(n,"mean",function(){return dr}),e.d(n,"median",function(){return pr}),e.d(n,"memoize",function(){return gr}),e.d(n,"memoizeWith",function(){return hr}),e.d(n,"merge",function(){return yr}),e.d(n,"mergeAll",function(){return vr}),e.d(n,"mergeDeepLeft",function(){return br}),e.d(n,"mergeDeepRight",function(){return Cr}),e.d(n,"mergeDeepWith",function(){return wr}),e.d(n,"mergeDeepWithKey",function(){return xr}),e.d(n,"mergeWith",function(){return Ar}),e.d(n,"mergeWithKey",function(){return mr}),e.d(n,"min",function(){return kr}),e.d(n,"minBy",function(){return Sr}),e.d(n,"modulo",function(){return Or}),e.d(n,"multiply",function(){return Er}),e.d(n,"nAry",function(){return yt}),e.d(n,"negate",function(){return Ir}),e.d(n,"none",function(){return jr}),e.d(n,"not",function(){return Ft}),e.d(n,"nth",function(){return Rn}),e.d(n,"nthArg",function(){return Br}),e.d(n,"o",function(){return Wr}),e.d(n,"objOf",function(){return qe}),e.d(n,"of",function(){return Tr}),e.d(n,"omit",function(){return Fr}),e.d(n,"once",function(){return _r}),e.d(n,"or",function(){return $n}),e.d(n,"over",function(){return Mr}),e.d(n,"pair",function(){return qr}),e.d(n,"partial",function(){return Pr}),e.d(n,"partialRight",function(){return Rr}),e.d(n,"partition",function(){return Hr}),e.d(n,"path",function(){return V}),e.d(n,"pathEq",function(){return Lr}),e.d(n,"pathOr",function(){return Ur}),e.d(n,"pathSatisfies",function(){return zr}),e.d(n,"pick",function(){return Qr}),e.d(n,"pickAll",function(){return $r}),e.d(n,"pickBy",function(){return Vr}),e.d(n,"pipe",function(){return Pt}),e.d(n,"pipeK",function(){return Kr}),e.d(n,"pipeP",function(){return zt}),e.d(n,"pluck",function(){return X}),e.d(n,"prepend",function(){return Xr}),e.d(n,"product",function(){return Zr}),e.d(n,"project",function(){return Jr}),e.d(n,"prop",function(){return K}),e.d(n,"propEq",function(){return Yr}),e.d(n,"propIs",function(){return ti}),e.d(n,"propOr",function(){return ni}),e.d(n,"propSatisfies",function(){return ei}),e.d(n,"props",function(){return ri}),e.d(n,"range",function(){return ii}),e.d(n,"reduce",function(){return Z}),e.d(n,"reduceBy",function(){return mn}),e.d(n,"reduceRight",function(){return ui}),e.d(n,"reduceWhile",function(){return oi}),e.d(n,"reduced",function(){return ai}),e.d(n,"reject",function(){return fn}),e.d(n,"remove",function(){return On}),e.d(n,"repeat",function(){return fi}),e.d(n,"replace",function(){return si}),e.d(n,"reverse",function(){return Rt}),e.d(n,"scan",function(){return li}),e.d(n,"sequence",function(){return di}),e.d(n,"set",function(){return pi}),e.d(n,"slice",function(){return qt}),e.d(n,"sort",function(){return hi}),e.d(n,"sortBy",function(){return gi}),e.d(n,"sortWith",function(){return yi}),e.d(n,"split",function(){return vi}),e.d(n,"splitAt",function(){return mi}),e.d(n,"splitEvery",function(){return xi}),e.d(n,"splitWhen",function(){return bi}),e.d(n,"startsWith",function(){return Ci}),e.d(n,"subtract",function(){return wi}),e.d(n,"sum",function(){return lr}),e.d(n,"symmetricDifference",function(){return Ai}),e.d(n,"symmetricDifferenceWith",function(){return ki}),e.d(n,"tail",function(){return Dt}),e.d(n,"take",function(){return Fn}),e.d(n,"takeLast",function(){return Xn}),e.d(n,"takeLastWhile",function(){return Si}),e.d(n,"takeWhile",function(){return Ei}),e.d(n,"tap",function(){return ji}),e.d(n,"test",function(){return Bi}),e.d(n,"times",function(){return ci}),e.d(n,"toLower",function(){return Wi}),e.d(n,"toPairs",function(){return Ti}),e.d(n,"toPairsIn",function(){return Fi}),e.d(n,"toString",function(){return sn}),e.d(n,"toUpper",function(){return _i}),e.d(n,"transduce",function(){return Ni}),e.d(n,"transpose",function(){return Mi}),e.d(n,"traverse",function(){return qi}),e.d(n,"trim",function(){return Pi}),e.d(n,"tryCatch",function(){return Ri}),e.d(n,"type",function(){return jt}),e.d(n,"unapply",function(){return Hi}),e.d(n,"unary",function(){return Li}),e.d(n,"uncurryN",function(){return Ui}),e.d(n,"unfold",function(){return zi}),e.d(n,"union",function(){return Qi}),e.d(n,"unionWith",function(){return Vi}),e.d(n,"uniq",function(){return Fe}),e.d(n,"uniqBy",function(){return Te}),e.d(n,"uniqWith",function(){return $i}),e.d(n,"unless",function(){return Ki}),e.d(n,"unnest",function(){return Xi}),e.d(n,"until",function(){return Zi}),e.d(n,"update",function(){return En}),e.d(n,"useWith",function(){return Gr}),e.d(n,"values",function(){return ct}),e.d(n,"valuesIn",function(){return Gi}),e.d(n,"view",function(){return Yi}),e.d(n,"when",function(){return tu}),e.d(n,"where",function(){return nu}),e.d(n,"whereEq",function(){return eu}),e.d(n,"without",function(){return ru}),e.d(n,"xprod",function(){return iu}),e.d(n,"zip",function(){return uu}),e.d(n,"zipObj",function(){return ou}),e.d(n,"zipWith",function(){return au})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={foo:"hahahaboofoobarzzzza"}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0);e(7);var i=e(1);console.log(i.default.foo),(new(function(){function t(){}return t.prototype.colorChange=function(t){this.ahhh=t},t}())).colorChange("ahhhhhhloll"),function(t,n){var e,i,u,o,a,c,f,s,l,d=r.curry(function(t,n,e){return e.replace(n,t)}),p=function(t){return n="span",e="div",i=t,u=new RegExp("<"+e,"g"),o="<"+n,a=new RegExp("</"+e,"g"),c="</"+n,f=d(o)(u),s=d(c)(a),r.compose(s,f)(i);var n,e,i,u,o,a,c,f,s},h=[],g="[data-selection-bookmark]";jQuery.fn.reverse=[].reverse,t.plugins.add("cite",{requires:"widget,contextmenu,wysiwygarea,dialogui,dialog,basicstyles,menu,contextmenu,floatpanel,panel",icons:"cite",init:function(n){if("undefined"==typeof jQuery)return console.warn("jQuery required but undetected so quitting cite."),!1;t.dtd.$editable.span=1,(e=n).addContentsCss(this.path+"styles/plugin.css"),this.initWidgets(),this.setupEditorEventHandlers()},initWidgets:function(){this.registerWidgets(),this.addWidgetCommandsButtonsAndDialogs()},registerWidgets:function(){e.widgets.add("footnotes",{requiredContent:"section(footnotes)",upcast:function(t){return"section"===t.name&&t.hasClass("footnotes")},editables:this.retrieveFootnotesWidgetEditableElements(n("<div>"+e.element.$.textContent+"</div>")),draggable:!1}),e.widgets.add("footnotemarker",{requiredContent:"span[data-citation]",upcast:function(t){return t.classes.indexOf("sup")>-1&&"undefined"!=t.attributes["data-footnote-id"]},draggable:!1})},retrieveFootnotesWidgetEditableElements:function(t){var r={header:{selector:"header > *",allowedContent:"span[*](*); strong em sub sup;div[*](sup)"}},i=1,u=e.config.footnotesPrefix?"-"+e.config.footnotesPrefix:"";return t.find(".footnotes li").each(function(){r["footnote_"+i]={selector:"#footnote"+u+"-"+n(this).attr("data-footnote-id")+" .cite",allowedContent:"a[href]; cite[*](*); span[*](*); strong em br i"},i++}),r},addWidgetCommandsButtonsAndDialogs:function(){e.addCommand("cite",new t.dialogCommand("citeDialog",{allowedContent:"section[*](*);header[*](*);li[*];a[*];cite(*)[*];sup[*];div[*](sup)",requiredContent:"section[*](*);header[*](*);li[*];a[*];cite(*)[*];sup[*];div[*](sup)"})),e.addCommand("intext_cite",new t.dialogCommand("intextCiteDialog",{allowedContent:"section[*](*);header[*](*);li[*];a[*];cite(*)[*];sup[*];div[*](sup)",requiredContent:"section[*](*);header[*](*);li[*];a[*];cite(*)[*];sup[*];div[*](sup)"})),e.ui.addButton("Cite",{label:"Insert Citation",command:"cite",toolbar:"insert"}),t.dialog.add("citeDialog",this.path+"dialogs/cite.js"),t.dialog.add("intextCiteDialog",this.path+"dialogs/intext_cite.js")},setupEditorEventHandlers:function(){this.retrieveContentsAndReorderMarkersOnInstanceReady(),this.moveCursorAfterFocusedWidgetOnEditorBlur(),this.reorderMarkersOnEditorChange(),this.updateMarkersWithCurrentCitationValuesOnEditorChange(),this.invokeIntextCiteDialogOnDoubleClick(),this.initMenuOnInstanceReady()},retrieveContentsAndReorderMarkersOnInstanceReady:function(){var t=this;e.on("instanceReady",function(r){i=n(e.editable().$),t.reorderMarkers("startup"),i=n(e.editable().$)})},moveCursorAfterFocusedWidgetOnEditorBlur:function(){e.on("blur",function(){e.widgets.focused&&(n('<span class="dummyF">&nbsp;</span>').insertAfter(n(e.widgets.focused.element.$).parent()),this.moveCursorAfterFocusedWidget())})},reorderMarkersOnEditorChange:function(){var t,n=this;e.on("change",function(e){clearTimeout(t),t=setTimeout(function(){var t=(new Date).getTime().toString();localStorage.getItem("reordering_markers")||localStorage.setItem("reordering_markers",t),e.editor.getSelection()&&e.editor.getSelection().getStartElement()&&(n.editingAFootnote(e)||(localStorage.getItem("reordering_markers")===t&&setTimeout(function(){n.reorderMarkers("change")},0),setTimeout(function(){localStorage.removeItem("reordering_markers")},200)))},1e3)})},editingAFootnote:function(t){var n=t.editor.getSelection().getStartElement().getAscendant("section");return!(!n||-1===n.$.className.indexOf("footnotes"))},updateMarkersWithCurrentCitationValuesOnEditorChange:function(){var t=this;e.on("change",function(e){var r=i.find(".footnotes header h2").html();i.find(".footnotes li .cite").each(function(){var e=n(this),u=n(this).parent("li").attr("data-footnote-id");i.find(".sup[data-footnote-id="+u+"]").each(function(){n(this).attr("data-citation-modified",t.replaceQuotesWithPlaceholder(e.html())),r&&n(this).attr("data-footnotes-heading",t.replaceQuotesWithPlaceholder(r))})})})},invokeIntextCiteDialogOnDoubleClick:function(){e.on("doubleclick",function(t){var n=e.getSelection().getStartElement();n.hasClass("cke_widget_focused")&&n.find(".sup[data-footnote-id]").$.length&&e.execCommand("intext_cite")})},initMenuOnInstanceReady:function(){t.on("instanceReady",function(n){if(!e._.menuItems.editCiteCmd){e.addMenuGroup("cite");e.contextMenu.addListener(function(n,e){if(n.getAscendant(function(t){try{return t.hasClass("cke_widget_focused")&&t.find(".sup[data-footnote-id]").$.length}catch(t){return null}},!0))return{editCiteCmd:t.TRISTATE_ON}}),e.addMenuItems({editCiteCmd:{label:"Edit In-text Citation",command:"intext_cite",group:"cite",order:2}}),e.removeMenuItem("paste"),e.removeMenuItem("copy"),e.removeMenuItem("cut")}})},setCursorBookmark:function(){if(e&&i)return this.removeExistingCursorBookmark(),this.createCursorBookmarkReturnContainingElement()},removeExistingCursorBookmark:function(){i.find(g).remove(),i.find("span").filter(function(){return"&nbsp;"===n(this).html()}).remove()},createCursorBookmarkReturnContainingElement:function(){var t=e.getSelection(),r=t.createBookmarks();return r[0]&&n(r[0].startNode.$).attr("data-selection-bookmark","1"),t.getRanges()[0]},isValidHtml:function(t){return!0},updateCitationsByExternalId:function(t){if(t instanceof Array){for(var n=0;n<t.length;n++)this.citationUpdateHasRequiredData(t[n])&&(this.updateFootnotesByExternalId(t[n]),this.updateInlineCitationsByExternalId(t[n]));t.length&&this.updateInlineCitationBrackets(t),this.reorderMarkers("build"),e.focus()}},citationUpdateHasRequiredData:function(t){return t instanceof Object&&t.externalId&&t.externalId.length>0&&t.citation&&t.citation.length>0},updateFootnotesByExternalId:function(t){var e=this;i.find(".footnotes li[data-footnote-id][data-ext-id="+t.externalId+"]").each(function(){var r=n(this);t.inlineCitation&&t.inlineCitation.length>0?r.attr("data-inline-citation",e.removeOuterBrackets(e.replaceQuotesWithPlaceholder(p(t.inlineCitation)))):r.removeAttr("data-inline-citation"),r.find(".cite").html(p(t.citation))})},updateInlineCitationsByExternalId:function(t){var e=this;i.find(".sup[data-footnote-id][data-ext-id="+t.externalId+"]").each(function(){var r=n(this),i=r.find("a"),u=e.replaceQuotesWithPlaceholder(p(t.citation));if(r.attr("data-citation",u).attr("data-citation-modified",u),i.attr("data-citation",u).attr("data-citation-modified",u),t.inlineCitation&&t.inlineCitation.length>0){var o=p(t.inlineCitation),a=e.removeOuterBrackets(e.replaceQuotesWithPlaceholder(o));r.attr("data-inline-citation",a),i.attr("data-inline-citation",a),i.html(o)}else r.removeAttr("data-inline-citation"),i.removeAttr("data-inline-citation"),i.html("X")})},updateInlineCitationBrackets:function(t){t[0].inlineCitation.toString().length?i.find("[data-inline-cit-autonum]").each(function(){var t=n(this);t.contents().each(function(){var t=n(this);t.is("[data-footnote-id]")||t.is("[data-widget]")||t.hasClass("cke_widget_wrapper")||(3==t[0].nodeType?t[0].textContent=t[0].textContent.replace("[","(").replace("]",")"):t.html(t.html().replace("[","(").replace("]",")")))}),t.attr("data-inline-cit",t.attr("data-inline-cit-autonum")),t.removeAttr("data-inline-cit-autonum")}):i.find("[data-inline-cit]").each(function(){var t=n(this);t.contents().each(function(){var t=n(this);t.is("[data-footnote-id]")||t.is("[data-widget]")||t.hasClass("cke_widget_wrapper")||(3==t[0].nodeType?t[0].textContent=t[0].textContent.replace("(","[").replace(")","]"):t.html(t.html().replace("(","[").replace(")","]")))}),t.attr("data-inline-cit-autonum",t.attr("data-inline-cit")),t.removeAttr("data-inline-cit")})},getExternalIds:function(){return i.find(".footnotes li[data-footnote-id][data-ext-id]").map(function(){return n(this).attr("data-ext-id")}).toArray()||[]},insert:function(t,r,u){this.setCursorBookmark(),e.widgets.focused&&(n('<span class="dummyF">&nbsp;</span>').insertAfter(n(e.widgets.focused.element.$).parent()),this.moveCursorAfterFocusedWidget()),this.removeDataInlineCitElsThatArentMarkers(),this.moveTextOutsideBracketsOutOfDataInlineCitEls(),this.moveTextOutsideBracketsOutOfDataInlineCitAutonumEls(),this.initInlineCitationAndFootnoteData(t,r,u),this.createFootnoteIfDoesntExist(),this.generateInlineCitationHtml(),this.insertInlineCitationAndFormat(),n('<span class="dummyF">&nbsp;</span>').insertAfter(i.find(".sup[data-footnote-id]:contains(X)").closest("[data-inline-cit"+(r?"":"autonum")+"]")),this.reorderMarkers("build"),this.moveCursorAfterFocusedWidget(),e.focus()},initInlineCitationAndFootnoteData:function(t,n,e){u=this.replaceQuotesWithPlaceholder(p(t)),f=this.findFootnote(u),o=n?this.removeOuterBrackets(this.replaceQuotesWithPlaceholder(p(n))):null,l=e,(a=this.cursorTouchingInlineCitation())||(c=this.cursorTouchingInlineCitationAutonum())},createFootnoteIfDoesntExist:function(){f||(f=this.generateFootnoteId(),e.fire("lockSnapshot"),this.addFootnote(this.buildFootnote(f,u,o,l)),e.fire("unlockSnapshot"))},generateInlineCitationHtml:function(){s=(o&&!a?'<span data-inline-cit="'+this.getNextDataInlineCitNum()+'">':"")+(o||c?"":'<span data-inline-cit-autonum="'+this.getNextDataInlineCitAutonumNum()+'">')+(o&&!a?"(":"")+(o||c?"":"[")+'<span class="sup" data-citation="'+u+'" data-footnote-id="'+f+'" data-citation-modified="'+u+'"'+(o?' data-inline-citation="'+o+'"':"")+(l&&l.toString().length?' data-ext-id="'+l+'"':"")+">X</span>"+(o&&!a?")":"")+(o||c?"":"]")+(o&&!a?"</span>":"")+(o||c?"":"</span>")},getNextDataInlineCitNum:function(){var t=0;return i.find("[data-inline-cit]").each(function(){var e=parseInt(n(this).attr("data-inline-cit"));t=e>t?e:t}),t+1},getNextDataInlineCitAutonumNum:function(){var t=0;return i.find("[data-inline-cit-autonum]").each(function(){var e=parseInt(n(this).attr("data-inline-cit-autonum"));t=e>t?e:t}),t+1},insertInlineCitationAndFormat:function(){if(a)this.insertInlineCitationWithinAdjacentGroup();else if(c)this.insertInlineCitationAutonumWithinAdjacentGroup();else{var r=this;i.find(g).each(function(){var t=n(this);return t.replaceWith(s+r.getHtmlWithoutWidgetMarkup(t[0].outerHTML)),!1}),this.moveCursorToCursorBookmark()}i.find(".sup[data-footnote-id]").each(function(){n(this).parent(".cke_widget_wrapper").length||e.widgets.initOn(new t.dom.element(this),"footnotemarker")}),this.updateInlineCitationDataAttrs()},insertInlineCitationWithinAdjacentGroup:function(){var t=[],e=!1,r=n(s),u=n("<div>"+o+"</div>").text();i.find("[data-inline-cit="+a+"] .sup[data-footnote-id]").each(function(){var i=n("<div>"+n(this).attr("data-inline-citation")+"</div>").text();!e&&u&&u<i&&(t.push(r[0]),e=!0),t.push(this)}),e||t.push(r[0]),i.find("[data-inline-cit="+a+"]").first().html("("+t.map(function(t){return t.outerHTML}).join(", ")+")")},insertInlineCitationAutonumWithinAdjacentGroup:function(){var t=[],e=n(s);i.find("[data-inline-cit-autonum="+c+"] .sup[data-footnote-id]").each(function(){t.push(this)}),t.push(e[0]),i.find("[data-inline-cit-autonum="+c+"]").first().html("["+t.map(function(t){return t.outerHTML}).join(", ")+"]")},updateInlineCitationDataAttrs:function(){this.removeDuplicatedDataInlineCitAttributes(),(i=n(e.editable().$)).find(".sup[data-footnote-id]:contains(X)").attr("data-citation",u).attr("data-citation-modified",u),o&&i.find(".sup[data-footnote-id]:contains(X)").attr("data-inline-citation",o)},removeDuplicatedDataInlineCitAttributes:function(){for(var t=1;;){var e=i.find("[data-inline-cit="+t+"]"),r=0;if(e.length<=0)break;e.each(function(){r>0&&n(this).removeAttr("data-inline-cit"),r++}),t++}},cursorTouchingInlineCitation:function(){var t=this.cursorElementInsideCitationBlock("data-inline-cit");if(!t){var n=this.getSiblingsEitherSideOfCursor("data-inline-cit");(t=this.cursorElementAdjacentToCitationBlock(n))||(t=this.cursorAdjacentToCitationSeparatedByZeroSpaceText(n,"data-inline-cit"))}return t},cursorTouchingInlineCitationAutonum:function(){var t=this.cursorElementInsideCitationBlock("data-inline-cit-autonum");if(!t){var n=this.getSiblingsEitherSideOfCursor("data-inline-cit-autonum");(t=this.cursorElementAdjacentToCitationBlock(n))||(t=this.cursorAdjacentToCitationSeparatedByZeroSpaceText(n,"data-inline-cit-autonum"))}return t},cursorElementInsideCitationBlock:function(t){var e=null;return i.find("["+t+"]").each(function(){if(n(this).find(g).length)return e=n(this),!1}),e&&e.length?e.attr(t):null},getSiblingsEitherSideOfCursor:function(t){var e={nextSibling:null,prevSibling:null,nextSiblingInlineCitAttr:null,prevSiblingInlineCitAttr:null},r=i.find(g);return e.nextSibling=r[0]&&n(r[0].nextSibling),e.prevSibling=r[0]&&n(r[0].previousSibling),e.nextSiblingInlineCitAttr=e.nextSibling&&e.nextSibling.attr(t),e.prevSiblingInlineCitAttr=e.prevSibling&&e.prevSibling.attr(t),e},cursorElementAdjacentToCitationBlock:function(t){return t.nextSiblingInlineCitAttr||t.prevSiblingInlineCitAttr},cursorAdjacentToCitationSeparatedByZeroSpaceText:function(t,n){for(var e=null,r=["nextSibling","previousSibling"],i=0;i<r.length&&!(e=this.iterateSiblingsUntilInlineCitOrNonZeroTextFound(r[i],t[r[i]]&&t[r[i]][0],n));i++);return e},iterateSiblingsUntilInlineCitOrNonZeroTextFound:function(t,e,r){for(var i=this.zeroLengthStringsRegexp(),u=null;e;){var o=n(e),a=o.attr(r);if(a){u=a;break}if(o.text().replace(i,"").length>0)break;e=e[t]}return u},zeroLengthStringsRegexp:function(){return new RegExp("[\0\b​-‏\ufeff]","g")},findFootnote:function(t){if(!e.footnotesStore)return null;var n=null;for(var r in e.footnotesStore)if(e.footnotesStore.hasOwnProperty(r)&&e.footnotesStore[r]===this.replaceQuotesWithPlaceholder(t)){n=r;break}return n},buildFootnote:function(t,n,r,i){return'<li id="footnote'+(e.config.footnotesPrefix?"-"+e.config.footnotesPrefix:"")+"-"+t+'" data-footnote-id="'+t+'"'+(r?' data-inline-citation="'+r+'"':"")+(i&&i.toString().length?' data-ext-id="'+i+'"':"")+'><span class="cite">'+this.revertQuotesPlaceholder(n)+"</span></li>"},addFootnote:function(r,u){var o=i.find(".footnotes");if(0==o.length){var a=e.config.footnotesTitle?e.config.footnotesTitle:"References",c=i.find(".sup[data-footnotes-heading]").attr("data-footnotes-heading");a=this.revertQuotesPlaceholder(c||a);var f=["<h2>","</h2>"];e.config.footnotesHeaderEls&&(f=e.config.footnotesHeaderEls);var s='<section class="footnotes"><header>'+f[0]+a+f[1]+"</header><ol>"+r+"</ol></section>";i.append(s),i.find("section.footnotes").each(function(){n(this).parent(".cke_widget_wrapper").length||e.widgets.initOn(new t.dom.element(this),"footnotes")})}else u?o.find("ol").html(r):o.find("ol").append(r)},generateFootnoteId:function(){for(var t=Math.random().toString(36).substr(2,5);-1!=n.inArray(t,h);)t=String(this.generateFootnoteId());return h.push(t),t},reorderMarkers:function(t){e.fire("lockSnapshot");var r=e.config.footnotesPrefix?"-"+e.config.footnotesPrefix:"",u={order:[],occurrences:{},originalCitationText:[],inlineCitation:[],modifiedCitationText:[],externalIds:[]},o=this,a=i.find(".sup[data-footnote-id]");if(0==a.length)return i.find(".footnotes").parent().remove(),void e.fire("unlockSnapshot");a.each(function(){0;var t,e=n(this),i=e.attr("data-footnote-id"),a=e.attr("data-citation"),c=e.attr("data-citation-modified"),f=e.attr("data-inline-citation"),s=e.attr("data-ext-id"),l=u.order.indexOf(i);-1==l?(u.order.push(i),u.originalCitationText.push(a),u.modifiedCitationText.push(c),u.inlineCitation.push(f),u.externalIds.push(s),l=u.order.length,u.occurrences[i]=1,t="1"):(l++,u.occurrences[i]++,t=u.occurrences[i]);var d=o.generateMarkerHtml(r,a,c,l,t,i,f,s);n(this).html(d)}),e.footnotesStore={};for(var c,f,s="",l=0,d=u.order.length;l<d;l++)s+=this.buildFootnote(u.order[l],u.modifiedCitationText[l],u.inlineCitation[l],u.externalIds[l]),e.footnotesStore[u.order[l]]=u.originalCitationText[l];for(l in this.addFootnote(s,!0),e.widgets.instances)if("footnotes"===e.widgets.instances[l].name){c=e.widgets.instances[l];break}c&&(l=1,i.find(".footnotes li").each(function(){f=n(this).attr("data-footnote-id"),c.initEditable("footnote_"+l,{selector:"#footnote"+r+"-"+f+" .cite",allowedContent:"a[href]; cite[*](*); span[*](*); em strong i"}),l++})),e.fire("unlockSnapshot")},removeDataInlineCitElsThatArentMarkers:function(){i.find("[data-inline-cit]").each(function(){var t=n(this);t.find(".sup[data-footnote-id]").length||t.replaceWith(t.html())})},moveTextOutsideBracketsOutOfDataInlineCitEls:function(){var t=this;i.find("[data-inline-cit]").each(function(){var e=n(this),r=t.cloneJqueryObject(e),i=t.getChildNodesOf(r),u=t.getChildNodesBefore1stWidgetUpToOpenBracket(i,"("),o=t.joinNodesToHtmlString(u),a=t.getChildNodesAfterLastWidgetUpToCloseBracket(i,")"),c=t.joinNodesToHtmlString(a);t.contentExistsBefore1stWidget(o)?t.removeChildNodesBeforeOpenBracket(r,u):o="",t.contentExistsAfterLastWidget(c)?t.removeChildNodesAfterCloseBracket(r,a):c="",(o.length>0||c.length>0)&&e.replaceWith(o.replace(/\([\s\u0000\u0007\u0008\u001A\u001B\u007F\u200B-\u200F\uFEFF]*$/g,"")+t.getHtmlWithoutWidgetMarkup(r[0].outerHTML)+c.replace(/^[\s\u0000\u0007\u0008\u001A\u001B\u007F\u200B-\u200F\uFEFF]*\)/g,""))})},getHtmlWithoutWidgetMarkup:function(t){return e.dataProcessor.toDataFormat(t,{context:"p"})},moveTextOutsideBracketsOutOfDataInlineCitAutonumEls:function(){var t=this;i.find("[data-inline-cit-autonum]").each(function(){var e=n(this),r=t.cloneJqueryObject(e),i=t.getChildNodesOf(r),u=t.getChildNodesBefore1stWidgetUpToOpenBracket(i,"["),o=t.joinNodesToHtmlString(u),a=t.getChildNodesAfterLastWidgetUpToCloseBracket(i,"]"),c=t.joinNodesToHtmlString(a);t.contentExistsBefore1stAutonumWidget(o)?t.removeChildNodesBeforeOpenAutonumBracket(r,u):o="",t.contentExistsAfterLastAutonumWidget(c)?t.removeChildNodesAfterCloseAutonumBracket(r,a):c="",(o.length>0||c.length>0)&&e.replaceWith(o.replace(/\[[\s\u0000\u0007\u0008\u001A\u001B\u007F\u200B-\u200F\uFEFF]*$/g,"")+t.getHtmlWithoutWidgetMarkup(r[0].outerHTML)+c.replace(/^[\s\u0000\u0007\u0008\u001A\u001B\u007F\u200B-\u200F\uFEFF]*\]/g,""))})},cloneJqueryObject:function(t){return n("<div/>").html(t[0].outerHTML).contents()},getChildNodesOf:function(t){var e=[];return t&&t.length&&t.contents().each(function(){e.push(n(this))}),e},getChildNodesBefore1stWidgetUpToOpenBracket:function(t,n){for(var e=[],r=new RegExp("\\"+n,"g"),i=0;i<t.length&&!t[i].find("[data-widget=footnotemarker]").length&&(e.push(t[i]),!t[i].text().match(r));i++);return e},getChildNodesAfterLastWidgetUpToCloseBracket:function(t,n){for(var e=[],r=new RegExp("\\"+n,"g"),i=t.length-1;i>=0&&!t[i].find("[data-widget=footnotemarker]").length&&(e.push(t[i]),!t[i].text().match(r));i--);return e.reverse()},joinNodesToHtmlString:function(t){return t.map(function(t){return 3==t[0].nodeType?t[0].data:t[0].outerHTML}).join("")},contentExistsBefore1stWidget:function(t){return"("!==t.trim()},contentExistsAfterLastWidget:function(t){return")"!==t.trim()},removeChildNodesBeforeOpenBracket:function(t,e){var r=0;t.contents().each(function(){if(++r>=e.length)return n(this).replaceWith("("),!1;n(this).remove()})},removeChildNodesAfterCloseBracket:function(t,e){var r=0;t.contents().reverse().each(function(){if(++r>=e.length)return n(this).replaceWith(")"),!1;n(this).remove()})},contentExistsBefore1stAutonumWidget:function(t){return"["!==t.trim()},contentExistsAfterLastAutonumWidget:function(t){return"]"!==t.trim()},removeChildNodesBeforeOpenAutonumBracket:function(t,e){var r=0;t.contents().each(function(){if(++r>=e.length)return n(this).replaceWith("["),!1;n(this).remove()})},removeChildNodesAfterCloseAutonumBracket:function(t,e){var r=0;t.contents().reverse().each(function(){if(++r>=e.length)return n(this).replaceWith("]"),!1;n(this).remove()})},generateMarkerHtml:function(t,n,e,r,i,u,o,a){return o?'<span class="inline-citation-before-link"></span><span id="footnote-marker'+t+"-"+u+"-"+i+'" data-citation="'+n+'" data-citation-modified="'+e+'" data-inline-citation="'+(o=this.removeOuterBrackets(o))+'" data-footnote-id="'+u+'"'+(a&&a.toString().length?' data-ext-id="'+a+'"':"")+">"+this.revertQuotesPlaceholder(o)+'</span><span class="inline-citation-after-link"></span>':'<span id="footnote-marker'+t+"-"+u+"-"+i+'" data-citation="'+n+'" data-citation-modified="'+e+'" data-footnote-id="'+u+'"'+(a&&a.toString().length?' data-ext-id="'+a+'"':"")+">"+r+"</span>"},moveCursorAfterFocusedWidget:function(){var t=e.createRange(),r=e.document.find("span.dummyF").getItem(0);t.setStart(r,0),t.setEnd(r,0),e.getSelection().selectRanges([t]),i.find("span.dummyF").each(function(){n(this).remove()})},moveCursorToCursorBookmark:function(){var t=e.createRange(),n=e.document.find(g).getItem(0);n&&(t.setStart(n,0),t.setEnd(n,0),e.getSelection().selectRanges([t]))},replaceQuotesWithPlaceholder:function(t){return t.replace(/"/g,"[!quot!]").replace(/&quot;/g,"[!hquot!]")},revertQuotesPlaceholder:function(t){return t.replace(/\[!hquot!\]/g,"&quot;").replace(/\[!quot!\]/g,'"')},removeOuterBrackets:function(t){return t.replace(/^\s*\({1}\s*/g,"").replace(/\s*\){1}\s*$/g,"")}})}(CKEDITOR,jQuery)},,,,,function(t,n){}]);
//# sourceMappingURL=plugin.js.map